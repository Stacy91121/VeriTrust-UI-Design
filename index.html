<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VeriTrust - Secure Identity Platform</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <!-- Landing/Auth Section -->
    <div id="auth-section" class="container">
        <header class="hero-section">
            <div class="logo">
                <h1>VeriTrust</h1>
                <p class="tagline">Secure Identity. Trusted Community.</p>
            </div>
        </header>

        <main class="auth-container">
            <div class="auth-tabs">
                <button class="tab-btn active" onclick="showLogin()">Login</button>
                <button class="tab-btn" onclick="showSignup()">Sign Up</button>
            </div>

            <!-- Login Form -->
            <div id="login-form" class="auth-form active">
                <h2>Welcome Back</h2>
                <form>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" required>
                    </div>
                    <button type="button" class="btn-primary" onclick="login()">Log In</button>
                    <a href="#" class="forgot-password">Forgot Password?</a>
                </form>
            </div>

            <!-- Signup Form -->
            <div id="signup-form" class="auth-form">
                <h2>Create Account</h2>
                <p class="verification-notice">
                    <span class="icon">üîí</span>
                    Account verification through secure bank connection required
                </p>
                <form>
                    <div class="form-group">
                        <label for="signup-email">Email</label>
                        <input type="email" id="signup-email" required>
                    </div>
                    <div class="form-group">
                        <label for="signup-password">Password</label>
                        <input type="password" id="signup-password" required>
                        <div class="password-strength"></div>
                    </div>
                    <div class="form-group">
                        <label for="confirm-password">Confirm Password</label>
                        <input type="password" id="confirm-password" required>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="terms" required>
                        <label for="terms">I agree to use trusted bank verification and <a href="#">privacy policy</a></label>
                    </div>
                    <button type="button" class="btn-primary" onclick="signup()">Create Account</button>
                </form>
            </div>
        </main>
    </div>

    <!-- Verification Section -->
    <div id="verification-section" class="container" style="display: none;">
        <header class="verification-header">
            <div class="logo">VeriTrust</div>
            <div class="progress-stepper">
                <div class="step completed">1. Create Account</div>
                <div class="step active">2. Verify Identity</div>
                <div class="step">3. Complete</div>
            </div>
        </header>

        <main class="verification-container">
            <div id="verification-start" class="verification-step active">
                <div class="verification-card">
                    <div class="icon-large">üè¶</div>
                    <h2>Verify Your Identity</h2>
                    <p>Connect your bank account through our secure partner to verify your identity. This creates a trusted profile for community interactions.</p>
                    
                    <div class="security-features">
                        <div class="feature">
                            <span class="icon">üîí</span>
                            <span>Bank-grade security</span>
                        </div>
                        <div class="feature">
                            <span class="icon">üö´</span>
                            <span>No account access</span>
                        </div>
                        <div class="feature">
                            <span class="icon">‚úì</span>
                            <span>One-time verification</span>
                        </div>
                    </div>

                    <button class="btn-primary" onclick="startVerification()">Connect Your Bank</button>
                    <button class="btn-secondary" onclick="skipVerification()">Skip for Now</button>
                </div>
            </div>

            <div id="verification-pending" class="verification-step">
                <div class="verification-card">
                    <div class="spinner"></div>
                    <h2>Verifying...</h2>
                    <p>Please wait while we verify your identity through your bank connection.</p>
                    <div class="status-indicator pending">In Progress</div>
                </div>
            </div>

            <div id="verification-success" class="verification-step">
                <div class="verification-card">
                    <div class="icon-large success">‚úì</div>
                    <h2>Verification Successful!</h2>
                    <p>Your identity has been verified. You now have access to all VeriTrust community features.</p>
                    
                    <div class="verified-badge">
                        <span class="badge-icon">‚úì</span>
                        <span>Verified User</span>
                    </div>

                    <button class="btn-primary" onclick="goToDashboard()">Go to Dashboard</button>
                </div>
            </div>

            <div id="verification-failed" class="verification-step">
                <div class="verification-card">
                    <div class="icon-large error">‚ö†Ô∏è</div>
                    <h2>Verification Failed</h2>
                    <p>We couldn't verify your identity at this time. Please try again or contact support.</p>
                    
                    <div class="error-banner">
                        Unable to connect to your bank. Please check your credentials and try again.
                    </div>

                    <button class="btn-primary" onclick="retryVerification()">Try Again</button>
                    <button class="btn-secondary" onclick="contactSupport()">Contact Support</button>
                </div>
            </div>
        </main>
    </div>

    <!-- App Container for Dashboard, SecureFind, EasyTask -->
    <div id="app-section" class="app-container" style="display: none;">
        <nav class="sidebar">
            <div class="logo">VeriTrust</div>
            <div class="nav-links">
                <a href="#" class="nav-link" id="nav-dashboard" onclick="showDashboard()">
                    <span class="icon">üè†</span>Dashboard
                </a>
                <a href="#" class="nav-link" id="nav-securefind" onclick="showSecureFind()">
                    <span class="icon">üîç</span>SecureFind
                </a>
                <a href="#" class="nav-link" id="nav-easytask" onclick="showEasyTask()">
                    <span class="icon">üìù</span>EasyTask
                </a>
                <a href="#" class="nav-link" id="nav-messages" onclick="showMessages()">
                    <span class="icon">üí¨</span>Messages
                </a>
                <a href="#" class="nav-link" id="nav-profile" onclick="showProfile()">
                    <span class="icon">üë§</span>Profile
                </a>
            </div>
        </nav>

        <!-- Dashboard Content -->
        <div id="dashboard-content" class="page-content">
            <header class="top-bar">
                <h1>Dashboard</h1>
                <div class="header-actions">
                    <div class="verified-badge" id="verifiedBadge">
                        <span class="badge-icon">‚úì</span>
                        <span>Verified</span>
                    </div>
                    <button class="notification-btn">üîî</button>
                    <div class="user-menu">
                        <button class="user-avatar">JD</button>
                    </div>
                </div>
            </header>

            <main class="main-content">
                <div class="status-card" id="verificationCard">
                    <div class="card-header">
                        <h3>Verification Status</h3>
                        <span class="status-badge verified">Verified</span>
                    </div>
                    <div class="card-content">
                        <p>Your identity has been verified. You can now access all community features.</p>
                    </div>
                </div>

                <div class="quick-actions">
                    <h3>Quick Actions</h3>
                    <div class="action-grid">
                        <button class="action-card" onclick="showSecureFind(); showTab('lost')">
                            <div class="action-icon lost">üì±</div>
                            <h4>Report Lost Item</h4>
                            <p>Lost something? Let the community help find it</p>
                        </button>
                        <button class="action-card" onclick="showSecureFind(); showTab('found')">
                            <div class="action-icon found">‚ú®</div>
                            <h4>Report Found Item</h4>
                            <p>Found something? Help return it to owner</p>
                        </button>
                        <button class="action-card" onclick="showEasyTask(); openTaskModal()">
                            <div class="action-icon task">‚ûï</div>
                            <h4>Add Task</h4>
                            <p>Create a new task to stay organized</p>
                        </button>
                    </div>
                </div>

                <div class="summary-section">
                    <div class="summary-card">
                        <h3>EasyTask Summary</h3>
                        <div class="task-stats">
                            <div class="stat">
                                <span class="count">5</span>
                                <span class="label">To-Do</span>
                            </div>
                            <div class="stat">
                                <span class="count">2</span>
                                <span class="label">In Progress</span>
                            </div>
                            <div class="stat">
                                <span class="count">8</span>
                                <span class="label">Done</span>
                            </div>
                        </div>
                        <a href="#" onclick="showEasyTask()" class="view-all">View All Tasks ‚Üí</a>
                    </div>

                    <div class="summary-card">
                        <h3>SecureFind Highlights</h3>
                        <div class="recent-items">
                            <div class="item-preview">
                                <div class="item-type lost">Lost</div>
                                <span>iPhone 15 Pro - Downtown area</span>
                                <span class="time">2 hours ago</span>
                            </div>
                            <div class="item-preview">
                                <div class="item-type found">Found</div>
                                <span>Blue Wallet - Central Park</span>
                                <span class="time">5 hours ago</span>
                            </div>
                        </div>
                        <a href="#" onclick="showSecureFind()" class="view-all">View All Items ‚Üí</a>
                    </div>
                </div>
            </main>
        </div>

        <!-- SecureFind Content -->
        <div id="securefind-content" class="page-content" style="display: none;">
            <header class="top-bar">
                <h1>SecureFind</h1>
                <div class="header-actions">
                    <div class="verified-badge">
                        <span class="badge-icon">‚úì</span>
                        <span>Verified</span>
                    </div>
                    <button class="btn-primary" onclick="alert('Report Lost Item feature coming soon!')">Report Lost</button>
                    <button class="btn-secondary" onclick="alert('Report Found Item feature coming soon!')">Report Found</button>
                </div>
            </header>

            <main class="main-content">
                <div class="tab-container">
                    <button class="tab-btn active" onclick="showTab('lost')">Lost Items</button>
                    <button class="tab-btn" onclick="showTab('found')">Found Items</button>
                </div>

                <div class="search-section">
                    <div class="search-bar">
                        <input type="text" placeholder="Search items..." class="search-input">
                        <button class="search-btn">üîç</button>
                    </div>
                    <div class="filters">
                        <select class="filter-select">
                            <option>All Locations</option>
                            <option>Downtown</option>
                            <option>Uptown</option>
                            <option>Central Park</option>
                        </select>
                        <select class="filter-select">
                            <option>Last 24 hours</option>
                            <option>Last week</option>
                            <option>Last month</option>
                        </select>
                        <button class="filter-btn">üìç Map View</button>
                    </div>
                </div>

                <div id="lost-tab" class="tab-content active">
                    <div class="items-grid">
                        <div class="item-card" onclick="alert('Item details coming soon!')">
                            <div class="item-image">üì±</div>
                            <div class="item-info">
                                <h4>iPhone 15 Pro</h4>
                                <p class="item-location">üìç Downtown Coffee Shop</p>
                                <p class="item-time">Lost 2 hours ago</p>
                                <div class="item-tags">
                                    <span class="tag">Electronics</span>
                                    <span class="tag priority">High Priority</span>
                                </div>
                            </div>
                        </div>

                        <div class="item-card">
                            <div class="item-image">üíº</div>
                            <div class="item-info">
                                <h4>Black Leather Briefcase</h4>
                                <p class="item-location">üìç Metro Station</p>
                                <p class="item-time">Lost 1 day ago</p>
                                <div class="item-tags">
                                    <span class="tag">Personal Items</span>
                                </div>
                            </div>
                        </div>

                        <div class="item-card">
                            <div class="item-image">üéí</div>
                            <div class="item-info">
                                <h4>Blue Backpack</h4>
                                <p class="item-location">üìç University Campus</p>
                                <p class="item-time">Lost 3 days ago</p>
                                <div class="item-tags">
                                    <span class="tag">Bags</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="found-tab" class="tab-content">
                    <div class="items-grid">
                        <div class="item-card">
                            <div class="item-image">üëì</div>
                            <div class="item-info">
                                <h4>Reading Glasses</h4>
                                <p class="item-location">üìç Public Library</p>
                                <p class="item-time">Found 4 hours ago</p>
                                <div class="item-tags">
                                    <span class="tag">Accessories</span>
                                </div>
                            </div>
                        </div>

                        <div class="item-card">
                            <div class="item-image">üí≥</div>
                            <div class="item-info">
                                <h4>Blue Wallet</h4>
                                <p class="item-location">üìç Central Park</p>
                                <p class="item-time">Found 6 hours ago</p>
                                <div class="item-tags">
                                    <span class="tag">Personal Items</span>
                                    <span class="tag match">Potential Match</span>
                                </div>
                            </div>
                        </div>

                        <div class="item-card">
                            <div class="item-image">üîë</div>
                            <div class="item-info">
                                <h4>Car Keys with Remote</h4>
                                <p class="item-location">üìç Shopping Mall</p>
                                <p class="item-time">Found 1 day ago</p>
                                <div class="item-tags">
                                    <span class="tag">Keys</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- EasyTask Content -->
        <div id="easytask-content" class="page-content" style="display: none;">
            <header class="top-bar">
                <h1>EasyTask</h1>
                <div class="header-actions">
                    <button class="btn-primary" onclick="openTaskModal()">+ Add Task</button>
                </div>
            </header>

            <main class="main-content">
                <div class="task-controls">
                    <div class="search-bar">
                        <input type="text" placeholder="Search tasks..." class="search-input">
                    </div>
                    <div class="filters">
                        <select class="filter-select" onchange="filterTasks('status', this.value)">
                            <option value="">All Status</option>
                            <option value="todo">To-Do</option>
                            <option value="in-progress">In Progress</option>
                            <option value="done">Done</option>
                        </select>
                        <select class="filter-select" onchange="filterTasks('priority', this.value)">
                            <option value="">All Priority</option>
                            <option value="high">High</option>
                            <option value="medium">Medium</option>
                            <option value="low">Low</option>
                        </select>
                        <select class="filter-select" onchange="sortTasks(this.value)">
                            <option value="due-date">Sort by Due Date</option>
                            <option value="priority">Sort by Priority</option>
                            <option value="created">Sort by Created</option>
                        </select>
                    </div>
                </div>

                <div class="task-list">
                    <div class="task-item high todo" data-task-id="1">
                        <div class="task-checkbox">
                            <input type="checkbox" onchange="updateTaskStatus(1, this.checked)">
                        </div>
                        <div class="task-content">
                            <h4>Follow up on lost iPhone recovery</h4>
                            <p class="task-description">Check SecureFind for potential matches and respond to messages</p>
                            <div class="task-meta">
                                <span class="due-date overdue">Due: Today</span>
                                <span class="priority-badge high">High</span>
                                <span class="status-badge todo">To-Do</span>
                            </div>
                        </div>
                        <div class="task-actions">
                            <button class="btn-icon" onclick="editTask(1)">‚úèÔ∏è</button>
                            <button class="btn-icon" onclick="deleteTask(1)">üóëÔ∏è</button>
                        </div>
                    </div>

                    <div class="task-item medium in-progress" data-task-id="2">
                        <div class="task-checkbox">
                            <input type="checkbox" onchange="updateTaskStatus(2, this.checked)">
                        </div>
                        <div class="task-content">
                            <h4>Complete project presentation</h4>
                            <p class="task-description">Finish slides and prepare demo for client meeting</p>
                            <div class="task-meta">
                                <span class="due-date">Due: Tomorrow</span>
                                <span class="priority-badge medium">Medium</span>
                                <span class="status-badge in-progress">In Progress</span>
                            </div>
                        </div>
                        <div class="task-actions">
                            <button class="btn-icon" onclick="editTask(2)">‚úèÔ∏è</button>
                            <button class="btn-icon" onclick="deleteTask(2)">üóëÔ∏è</button>
                        </div>
                    </div>

                    <div class="task-item low todo" data-task-id="3">
                        <div class="task-checkbox">
                            <input type="checkbox" onchange="updateTaskStatus(3, this.checked)">
                        </div>
                        <div class="task-content">
                            <h4>Schedule dentist appointment</h4>
                            <p class="task-description">Call office to book routine cleaning</p>
                            <div class="task-meta">
                                <span class="due-date">Due: Next week</span>
                                <span class="priority-badge low">Low</span>
                                <span class="status-badge todo">To-Do</span>
                            </div>
                        </div>
                        <div class="task-actions">
                            <button class="btn-icon" onclick="editTask(3)">‚úèÔ∏è</button>
                            <button class="btn-icon" onclick="deleteTask(3)">üóëÔ∏è</button>
                        </div>
                    </div>

                    <div class="task-item high done" data-task-id="4">
                        <div class="task-checkbox">
                            <input type="checkbox" checked onchange="updateTaskStatus(4, this.checked)">
                        </div>
                        <div class="task-content completed">
                            <h4>Submit weekly report</h4>
                            <p class="task-description">Compile and send team progress report</p>
                            <div class="task-meta">
                                <span class="due-date">Completed yesterday</span>
                                <span class="priority-badge high">High</span>
                                <span class="status-badge done">Done</span>
                            </div>
                        </div>
                        <div class="task-actions">
                            <button class="btn-icon" onclick="editTask(4)">‚úèÔ∏è</button>
                            <button class="btn-icon" onclick="deleteTask(4)">üóëÔ∏è</button>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- Task Modal -->
        <div id="taskModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modalTitle">Add New Task</h3>
                    <button class="close-btn" onclick="closeTaskModal()">&times;</button>
                </div>
                <form id="taskForm">
                    <div class="form-group">
                        <label for="taskTitle">Title *</label>
                        <input type="text" id="taskTitle" required>
                    </div>
                    <div class="form-group">
                        <label for="taskDescription">Description</label>
                        <textarea id="taskDescription" rows="3"></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="taskDueDate">Due Date</label>
                            <input type="date" id="taskDueDate">
                        </div>
                        <div class="form-group">
                            <label for="taskPriority">Priority</label>
                            <select id="taskPriority">
                                <option value="low">Low</option>
                                <option value="medium" selected>Medium</option>
                                <option value="high">High</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="taskStatus">Status</label>
                            <select id="taskStatus">
                                <option value="todo" selected>To-Do</option>
                                <option value="in-progress">In Progress</option>
                                <option value="done">Done</option>
                            </select>
                        </div>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn-secondary" onclick="closeTaskModal()">Cancel</button>
                        <button type="submit" class="btn-primary">Save Task</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Global state
        let currentUser = null;
        let isVerified = false;

        // Auth functions
        function showLogin() {
            document.getElementById('login-form').classList.add('active');
            document.getElementById('signup-form').classList.remove('active');
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }

        function showSignup() {
            document.getElementById('signup-form').classList.add('active');
            document.getElementById('login-form').classList.remove('active');
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }

        function login() {
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value;
            if (!email || !password) {
                alert('Please fill in all fields');
                return;
            }
            // Retrieve user data from localStorage
            const userData = JSON.parse(localStorage.getItem('veritrustUser') || '{}');
            if (userData.email === email && userData.password === password) {
                currentUser = { email };
                isVerified = userData.verified === true;
                showVerification();
            } else {
                alert('Invalid email or password');
            }
        }

        function signup() {
            const email = document.getElementById('signup-email').value.trim();
            const password = document.getElementById('signup-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            const termsAccepted = document.getElementById('terms').checked;
            if (!email || !password || !confirmPassword) {
                alert('Please fill in all fields');
                return;
            }
            if (password !== confirmPassword) {
                alert('Passwords do not match');
                return;
            }
            if (!termsAccepted) {
                alert('Please accept the terms and privacy policy');
                return;
            }
            // Save user data to localStorage
            localStorage.setItem('veritrustUser', JSON.stringify({
                email,
                password,
                verified: false
            }));
            currentUser = { email };
            isVerified = false;
            showVerification();
        }

        // Verification functions
        function showVerification() {
            document.getElementById('auth-section').style.display = 'none';
            document.getElementById('verification-section').style.display = 'block';
        }

        function startVerification() {
            document.getElementById('verification-start').classList.remove('active');
            document.getElementById('verification-pending').classList.add('active');
            
            setTimeout(() => {
                document.getElementById('verification-pending').classList.remove('active');
                document.getElementById('verification-success').classList.add('active');
                isVerified = true;
            }, 3000);
        }

        function skipVerification() {
            goToDashboard();
        }

        function retryVerification() {
            document.getElementById('verification-failed').classList.remove('active');
            document.getElementById('verification-start').classList.add('active');
        }

        function contactSupport() {
            alert('Support contact feature coming soon!');
        }

        function goToDashboard() {
            document.getElementById('verification-section').style.display = 'none';
            document.getElementById('app-section').style.display = 'flex';
            showDashboard();
        }

        // Navigation functions
        function showDashboard() {
            hideAllPages();
            document.getElementById('dashboard-content').style.display = 'block';
            updateActiveNav('nav-dashboard');
        }

        function showSecureFind() {
            hideAllPages();
            document.getElementById('securefind-content').style.display = 'block';
            updateActiveNav('nav-securefind');
        }

        function showEasyTask() {
            hideAllPages();
            document.getElementById('easytask-content').style.display = 'block';
            updateActiveNav('nav-easytask');
        }

        function showMessages() {
            alert('Messages feature coming soon!');
        }

        function showProfile() {
            alert('Profile feature coming soon!');
        }

        function hideAllPages() {
            document.querySelectorAll('.page-content').forEach(page => {
                page.style.display = 'none';
            });
        }

        function updateActiveNav(activeId) {
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            document.getElementById(activeId).classList.add('active');
        }

        // SecureFind functions
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById(tabName + '-tab').classList.add('active');
            event.target.classList.add('active');
        }

        // EasyTask functions
        function openTaskModal() {
            document.getElementById('taskModal').style.display = 'block';
        }

        function closeTaskModal() {
            document.getElementById('taskModal').style.display = 'none';
            document.getElementById('taskForm').reset();
        }

        function updateTaskStatus(taskId, completed) {
            console.log(`Task ${taskId} status updated: ${completed ? 'completed' : 'pending'}`);
        }

        function editTask(taskId) {
            console.log(`Edit task ${taskId}`);
            openTaskModal();
        }

        function deleteTask(taskId) {
            if (confirm('Are you sure you want to delete this task?')) {
                console.log(`Delete task ${taskId}`);
            }
        }

        function filterTasks(type, value) {
            console.log(`Filter tasks by ${type}: ${value}`);
        }

        function sortTasks(value) {
            console.log(`Sort tasks by: ${value}`);
        }

        // Form submissions
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('taskForm').addEventListener('submit', function(e) {
                e.preventDefault();
                console.log('Task saved');
                closeTaskModal();
            });

            window.onclick = function(event) {
                const modal = document.getElementById('taskModal');
                if (event.target === modal) {
                    closeTaskModal();
                }
            }
        });
    </script>
</body>
</html>
